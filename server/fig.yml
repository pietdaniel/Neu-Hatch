db:
  build: db
  ports:
    - 5432:5432
  environment:
    - HATCH_DB_USER
    - HATCH_DB_PASSWORD
    - HATCH_DB_NAME

api:
  build: api
  command: python runserver.py -h 0.0.0.0 -p 5000
  volumes:
    - .:/code
  ports:
    - 5000:5000
  links:
    - db
  environment: # vars w/ only a key are resolved from host machine
    - HATCH_DB_USER
    - HATCH_DB_PASSWORD
    - HATCH_DB_NAME
    - CONSUMER_KEY
    - CONSUMER_SECRET
    - ACCESS_TOKEN=PLACEHOLDER
    - ACCESS_TOKEN_SECRET=PLACEHOLDER
    - APP_SECRET=PLACEHOLDER
